<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome</title>
</head>
<body style="background-color: grey; color: white;">
  <header>
    <h1>Bienvenido</h1>
  </header>
  <form action="">
    <h2>Ingresa el nombre de un Pa√≠s</h2>
    <label for="">
      <input list="countries">
      <datalist id="countries">
        
      </datalist>
    </label>
  </form>

  <div id="app"></div>
  <script >
    const API = 'https://travelbriefing.org/countries.json'

    const request = fetch(API)
      .then(response => response.json())
      .then(data => {
        data.forEach((item) => {
          const selectCountry = document.querySelector('#countries')
          const optionsCountries = document.createElement('option')
          optionsCountries.textContent = item.name
          selectCountry.append(optionsCountries)
        })
      })
      .then(() => {
        const referenceInput = document.querySelector('input')
          referenceInput.addEventListener('change', () => {
          const selectedCountry = document.querySelector('input').value

          const requestCountry = fetch(`https://travelbriefing.org/${selectedCountry}?format=json`)
          .then(newResponse => newResponse.json())
          .then(newData => {
            const nameCountry = document.createElement('h2')
            nameCountry.textContent = newData.names.name

            const fullNameCountry = document.createElement('h3')
            fullNameCountry.textContent = newData.names.full

            const container = document.createElement('div')
            container.append(nameCountry, fullNameCountry)

            const origin = document.querySelector('#app')
            origin.append(container)
          })
        })
        
      })
  </script>
</body>
</html>